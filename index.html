<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>LocaDan Pro</title>
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    /* Global */
    :root { --accent:#1e40af; --muted:#f3f4f6; --card:#ffffff; --danger:#dc2626; }
    body { margin:0; font-family:Inter, Arial, sans-serif; background:#f3f4f6; color:#111827; }
    .app { display:flex; min-height:100vh; }

    /* Aside */
    aside { width:260px; background:var(--accent); color:#fff; padding:20px; box-sizing:border-box; }
    aside h1 { margin:0 0 12px 0; font-size:20px; }
    aside button { display:block; width:100%; text-align:left; padding:10px 12px; margin-bottom:8px; background:rgba(255,255,255,0.06); border:0; color:#fff; border-radius:8px; cursor:pointer; }
    aside button:hover { background:rgba(255,255,255,0.12); }
    aside button.active { background:rgba(255,255,255,0.18); box-shadow: inset 0 0 0 2px rgba(255,255,255,0.03); }

    main { flex:1; padding:26px; box-sizing:border-box; overflow:auto; }

    /* sections */
    section { display:none; }
    section.active { display:block; animation:fadeIn .18s ease both; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(6px)} to {opacity:1; transform:none} }

    /* dashboard */
    .grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:18px; }
    .card { border-radius:12px; padding:18px; color:white; font-weight:700; transition:transform .25s ease, box-shadow .25s ease; box-shadow:0 6px 18px rgba(0,0,0,0.08); position:relative; overflow:hidden; }
    .card h3 { margin:0; font-size:14px; opacity:0.95 }
	.card .num { font-size: 3rem; font-weight: 800; margin-top: 8px; }
    .card .meta { font-size:12px; opacity:0.9; margin-top:6px; }

    /* colors */
    .card.card-1 { background:linear-gradient(135deg,#2563eb,#60a5fa); }
    .card.card-2 { background:linear-gradient(135deg,#059669,#34d399); }
    .card.card-3 { background:linear-gradient(135deg,#d97706,#f59e0b); }
    .card.card-4 { background:linear-gradient(135deg,#6366f1,#818cf8); }

    .card:hover { transform:translateY(-8px) scale(1.03); box-shadow:0 14px 40px rgba(0,0,0,0.15); }

    /* small progress circle */
    .progress-wrap { display:flex; gap:16px; align-items:center; }
    .progress-circle { width:64px; height:64px; border-radius:50%; background:conic-gradient(#10b981 0%, #e5e7eb 0%); display:flex; align-items:center; justify-content:center; color:#fff; font-weight:700; box-shadow:0 6px 16px rgba(0,0,0,0.08); }

    /* tables */
    table { width:100%; border-collapse:collapse; margin-top:12px; background:#fff; border-radius:8px; overflow:hidden; box-shadow:0 3px 10px rgba(2,6,23,0.03); }
    thead th { padding:10px 12px; text-align:left; font-weight:700; border-bottom:1px solid #e6e7eb; }
    tbody td { padding:10px 12px; border-bottom:1px solid #f0f0f0; }
    tbody tr:hover { background:#fafafa; }

    /* colored headers per section */
    #section-proprietaires thead th { background:#dbeafe; color:#0f172a; }
    #section-biens thead th { background:#dcfce7; color:#065f46; }
    #section-locataires thead th { background:#fef9c3; color:#92400e; }
    #section-loyers thead th { background:#fee2e2; color:#7f1d1d; }
    #section-encaissements thead th { background:#e0e7ff; color:#3730a3; }
    #section-quittances thead th { background:#f5d0fe; color:#6b21a8; }
    #section-revisions thead th { background:#cffafe; color:#064e3b; }
    #section-documents thead th { background:#fef3c7; color:#92400e; }

    /* buttons */
    .btn { padding:8px 12px; border-radius:8px; border:0; cursor:pointer; transition:all .18s ease; }
    .btn.primary { background:#0ea5e9; color:#fff; }
    .btn.ghost { background:transparent; border:1px solid #e6e7eb; }
    .btn.danger { background:var(--danger); color:#fff; }
    .btn.print { background:#10b981; color:#fff; }

    /* modal floating */
    #modal-container { position:fixed; inset:0; display:none; align-items:flex-start; justify-content:center; background:rgba(0,0,0,0.3); z-index:60; padding-top:50px; }
    .modal-window { width:420px; background:#fff; border-radius:12px; box-shadow:0 18px 50px rgba(2,6,23,0.2); overflow:hidden; position:relative; }
    .modal-head { padding:10px 12px; background:#f8fafc; cursor:move; user-select:none; font-weight:700; color:#0f172a; display:flex; justify-content:space-between; align-items:center; }
    .modal-body { padding:14px; }
    .modal-body label { display:block; font-size:13px; margin-top:8px; color:#374151; }
    .modal-body input, .modal-body select, .modal-body textarea { width:100%; padding:8px 10px; border-radius:8px; border:1px solid #e6e7eb; margin-top:6px; box-sizing:border-box; }
    .modal-actions { display:flex; justify-content:flex-end; gap:8px; margin-top:12px; }

    /* small helpers */
    .muted { color:#6b7280; font-size:13px; }
    .summary { background:#fff; padding:12px; border-radius:8px; display:flex; gap:20px; align-items:center; box-shadow:0 4px 12px rgba(2,6,23,0.04); }
    .summary .title { font-weight:700; color:#0f172a; }
    .enc-date { color:#fff; background:#2563eb; padding:6px 10px; border-radius:8px; font-weight:600; }

    #taux-remplissage {
    font-size: 2rem;
    font-weight: 800;
    color: var(--accent);
    }

    /* responsive */
    @media (max-width:900px){ aside{ display:none; } }
  </style>
  
</head>

<body>
  <div class="app">
    <aside>
      <h1>üè† LocaDan Pro</h1>
      <button id="btn-dashboard" class="active">Tableau de bord</button>
      <button id="btn-proprietaires">Propri√©taires</button>
      <button id="btn-biens">Biens</button>
      <button id="btn-locataires">Locataires</button>
      <button id="btn-loyers">Appel des loyers</button>
      <button id="btn-encaissements">Encaissements</button>
      <button id="btn-quittances">Quittances</button>
      <button id="btn-revisions">R√©visions des loyers</button>
      <button id="btn-documents">Documents</button>
	  <hr>
      <li><button onclick="backupData()">üíæ Sauvegarder</button></li>
      <li><button onclick="restoreData()">üîÅ Restaurer</button></li>
    </aside>

    <main>
      <!-- DASHBOARD -->
<section id="section-dashboard" class="active">
  <h2 class="text-3xl font-bold mb-6">Tableau de bord LocaDan Pro üìä</h2>

  <!-- Cartes principales -->
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
    <div class="card card-1 p-6">
      <h3 class="text-xl font-semibold">Propri√©taires</h3>
      <div class="num text-5xl mt-4" id="dash-proprietaires-count">0</div>
      <div class="meta text-base mt-2 opacity-90">Total enregistr√©s</div>
    </div>

    <div class="card card-2 p-6">
      <h3 class="text-xl font-semibold">Biens</h3>
      <div class="num text-5xl mt-4" id="dash-biens-count">0</div>
      <div class="meta text-base mt-2 opacity-90">Biens g√©r√©s</div>
    </div>

    <div class="card card-3 p-6">
      <h3 class="text-xl font-semibold">Locataires</h3>
      <div class="num text-5xl mt-4" id="dash-locataires-count">0</div>
      <div class="meta text-base mt-2 opacity-90">Actifs actuellement</div>
    </div>

    <div class="card card-4 p-6">
      <h3 class="text-xl font-semibold">Encaissements</h3>
      <div class="num text-4xl mt-4" id="dash-encaissements-count">0</div>
      <div class="meta text-base mt-2">Montant total : <span id="dash-encaissements-total">‚Ç¨0.00</span></div>
      <div class="mt-4 flex items-center justify-between">
        <div class="text-sm opacity-90">Pourcentage encaiss√©</div>
        <div id="progress-circle" class="progress-circle text-sm w-16 h-16">0%</div>
      </div>
    </div>
  </div>

  <!-- Taux de remplissage global -->
  <div class="bg-white p-6 rounded-2xl shadow-md flex items-center justify-between">
    <div>
      <h3 class="text-lg font-bold text-gray-700">Taux de remplissage global</h3>
      <p class="text-gray-500 text-sm mt-1">Ratio entre locataires et biens disponibles</p>
    </div>
    <div class="flex items-center gap-4">
      <div id="taux-remplissage" class="text-3xl font-extrabold text-blue-600">0%</div>
    </div>
  </div>
</section>

      <!-- PROPRIETAIRES -->
      <section id="section-proprietaires">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <h2 class="text-xl font-bold">Propri√©taires</h2>
          <button id="btn-add-proprietaire" class="btn primary">‚ûï Ajouter</button>
        </div>

        <table>
          <thead><tr><th>Nom</th><th>Pr√©nom</th><th>T√©l√©phone</th><th>Email</th><th style="text-align:center">Actions</th></tr></thead>
          <tbody id="proprietaires-table-body"></tbody>
        </table>
      </section>

      <!-- BIENS -->
      <section id="section-biens">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <h2 class="text-xl font-bold">Biens</h2>
          <button id="btn-add-bien" class="btn primary">‚ûï Ajouter</button>
        </div>

        <table>
          <thead><tr><th>Bien</th><th>Adresse</th><th>Type</th><th>Surface (m¬≤)</th><th>Chambres</th><th>Infos</th><th>Loyer (‚Ç¨)</th><th style="text-align:center">Actions</th></tr></thead>
          <tbody id="biens-table-body"></tbody>
        </table>
      </section>

      <!-- LOCATAIRES -->
      <section id="section-locataires">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <h2 class="text-xl font-bold">Locataires</h2>
          <button id="btn-add-locataire" class="btn primary">‚ûï Ajouter</button>
        </div>

        <table>
          <thead><tr><th>Nom</th><th>Pr√©nom</th><th>T√©l√©phone</th><th>Notes</th><th style="text-align:center">Actions</th></tr></thead>
          <tbody id="locataires-table-body"></tbody>
        </table>
      </section>

      <!-- APPEL DES LOYERS -->
      <section id="section-loyers">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <h2 class="text-xl font-bold">Appel des loyers</h2>
          <button id="btn-add-loyer" class="btn primary">‚ûï Ajouter</button>
        </div>

        <table>
          <thead><tr><th>Locataire</th><th>Bien</th><th>Montant (‚Ç¨)</th><th>Date</th><th style="text-align:center">Actions</th></tr></thead>
          <tbody id="loyers-table-body"></tbody>
        </table>
      </section>

      <!-- ENCAISSEMENTS -->
      <section id="section-encaissements">
        <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:6px">
          <div class="summary">
            <div>
              <div class="title">Total des loyers encaiss√©s</div>
              <div id="encaissements-total" style="font-weight:800">‚Ç¨0.00</div>
            </div>
            <div style="margin-left:12px">
              <div class="muted">Date :</div>
              <div class="enc-date" id="encaissements-date">--/--/----</div>
            </div>
          </div>

          <div style="display:flex;gap:8px;">
            <button id="btn-add-encaissement" class="btn primary">‚ûï Ajouter</button>
            <button id="btn-print-pdf" class="btn print">üñ®Ô∏è Imprimer PDF</button>
          </div>
        </div>

        <table>
          <thead><tr><th>Date</th><th>Locataire</th><th>Bien</th><th>M√©thode</th><th>Montant (‚Ç¨)</th><th style="text-align:center">Actions</th></tr></thead>
          <tbody id="encaissements-table-body"></tbody>
        </table>
      </section>

      <!-- QUITTANCES -->
      <section id="section-quittances">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <h2 class="text-xl font-bold">Quittances</h2>
          <div style="display:flex;gap:8px;">
            <button id="btn-add-quittance" class="btn primary">‚ûï Ajouter</button>
            <button id="btn-print-quittance" class="btn print">üñ®Ô∏è Imprimer PDF</button>
          </div>
        </div>

        <table>
          <thead><tr><th>Locataire</th><th>Montant (‚Ç¨)</th><th>Date de paiement</th><th style="text-align:center">Actions</th></tr></thead>
          <tbody id="quittances-table-body"></tbody>
        </table>
      </section>

      <!-- REVISIONS -->
      <section id="section-revisions">
        <div style="display:flex;justify-content:space-between;align-items:center;">
          <h2 class="text-xl font-bold">R√©visions des Loyers</h2>
          <div style="display:flex;gap:8px;">
            <button id="btn-add-revision" class="btn primary">‚ûï Ajouter</button>
            <button id="btn-print-revisions" class="btn print">üñ®Ô∏è Imprimer PDF</button>
          </div>
        </div>

        <table>
          <thead><tr><th>Bien</th><th>Ancien Loyer (‚Ç¨)</th><th>Nouveau Loyer (‚Ç¨)</th><th>Date de r√©vision</th><th style="text-align:center">Actions</th></tr></thead>
          <tbody id="revisions-table-body"></tbody>
        </table>
      </section>

      <!-- DOCUMENTS -->
 <section id="section-documents">
      <h2>üìÅ Mes Documents</h2>
      <div class="upload-zone">
        <input type="file" id="file-input" multiple />
        <button class="btn primary" id="btn-import-doc">Importer</button>
      </div>

      <table class="data-table">
        <thead>
          <tr><th>Nom</th><th>Taille</th><th>Actions</th></tr>
        </thead>
        <tbody id="documents-table-body"></tbody>
      </table>
    </section>

    </main>
	
  </div>

  <!-- Modal container -->
  <div id="modal-container">
    <div id="modal-content"></div>
  </div>

  <!-- jsPDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="app.js"></script>
  
</body>

</html>
